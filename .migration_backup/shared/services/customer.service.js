"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var http_1 = require("@angular/common/http");
var core_1 = require("@angular/core");
var service_1 = require("~/shared/services/service");
var config_1 = require("../config");
var CustomerService = /** @class */ (function (_super) {
    __extends(CustomerService, _super);
    function CustomerService(http) {
        var _this = _super.call(this) || this;
        _this.http = http;
        return _this;
    }
    CustomerService.prototype.getAllByGroepAction = function (groepId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/" + groepId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByGroepForBillAction = function (groepId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/bill/" + groepId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByGroepForCheckinAction = function (groepId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/checkin/" + groepId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByPeriodIdAndLocationIdForGroupLayoutAction = function (date, locationId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/" + date + "/" + locationId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByGroepForPaymentsAction = function (groepId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/payments/" + groepId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getBillByCustomerId = function (customerId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/bill/" + customerId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getCheckinByCustomerId = function (customerId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/checkin/detail/" + customerId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByAgencyForLodgingAndLocationAndPeriodAction = function (agencyId, locationId, date) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/lodging/" + agencyId + "/" + locationId + "/" + date;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByGroepWithRaftingOptionAction = function (groepId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/rafting/" + groepId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByGroepWithCanyoningOptionAction = function (groepId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/canyoning/" + groepId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByGroepWithSpecialOptionAction = function (groepId) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/special/" + groepId;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getBusGoCustomersByWeek = function (date) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/bus/go/" + date;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getBusBackCustomersByWeek = function (date) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/bus/back/" + date;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.getAllByAllInTypeForLocationAndPeriodAction = function (locationId, date) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/all-in-type/" + locationId + "/" + date;
        console.dir(url);
        return this.http.get(url, { headers: headers });
    };
    CustomerService.prototype.putCustomerSizeAction = function (groepCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/suitsize/" + groepCustomer.id;
        console.dir(url);
        return this.http.put(url, groepCustomer, { headers: headers });
    };
    CustomerService.prototype.putCustomerRaftingOptionAction = function (raftingCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/rafting/" + raftingCustomer.id;
        console.dir(url);
        return this.http.put(url, raftingCustomer, { headers: headers });
    };
    CustomerService.prototype.putCustomerCanyoningOptionAction = function (canyoningCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/canyoning/" + canyoningCustomer.id;
        console.dir(url);
        return this.http.put(url, canyoningCustomer, { headers: headers });
    };
    CustomerService.prototype.putCustomerSpecialOptionAction = function (specialCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/special/" + specialCustomer.id;
        console.dir(url);
        return this.http.put(url, specialCustomer, { headers: headers });
    };
    CustomerService.prototype.putBusGoCustomerAction = function (busCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/bus/go/" + busCustomer.id;
        console.dir(url);
        return this.http.put(url, busCustomer, { headers: headers });
    };
    CustomerService.prototype.putBusBackCustomerAction = function (busCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/bus/back/" + busCustomer.id;
        console.dir(url);
        return this.http.put(url, busCustomer, { headers: headers });
    };
    CustomerService.prototype.putLodgingLayoutCustomerAction = function (lodgingCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/lodging/layout/" + lodgingCustomer.id;
        console.dir(url);
        return this.http.put(url, lodgingCustomer, { headers: headers });
    };
    CustomerService.prototype.putBillPayedAction = function (billCustomerTotal) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/bill/" + billCustomerTotal.id;
        console.dir(url);
        return this.http.put(url, billCustomerTotal, { headers: headers });
    };
    CustomerService.prototype.putCheckinCustomerAction = function (checkinCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/checkin/" + checkinCustomer.id;
        console.dir(url);
        return this.http.put(url, checkinCustomer, { headers: headers });
    };
    CustomerService.prototype.putCheckinCustomerDetailAction = function (checkinCustomerDetail) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/checkin/detail/" + checkinCustomerDetail.id;
        console.dir(url);
        return this.http.put(url, checkinCustomerDetail, { headers: headers });
    };
    CustomerService.prototype.putPaymentToCustomerAction = function (payment) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/payments/" + payment.customerId;
        console.dir(url);
        return this.http.put(url, payment, { headers: headers });
    };
    CustomerService.prototype.putGroepCustomerAction = function (groepCustomer) {
        var headers = this.createRequestHeader();
        var url = config_1.Config.apiUrl + "api/customers/groep/" + groepCustomer.id;
        console.dir(url);
        return this.http.put(url, groepCustomer, { headers: headers });
    };
    CustomerService = __decorate([
        core_1.Injectable(),
        __metadata("design:paramtypes", [http_1.HttpClient])
    ], CustomerService);
    return CustomerService;
}(service_1.Service));
exports.CustomerService = CustomerService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tZXIuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImN1c3RvbWVyLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBa0Q7QUFDbEQsc0NBQTJDO0FBaUIzQyxxREFBb0Q7QUFDcEQsb0NBQW1DO0FBTW5DO0lBQXFDLG1DQUFPO0lBQ3hDLHlCQUFvQixJQUFnQjtRQUFwQyxZQUNJLGlCQUFPLFNBQ1Y7UUFGbUIsVUFBSSxHQUFKLElBQUksQ0FBWTs7SUFFcEMsQ0FBQztJQUVELDZDQUFtQixHQUFuQixVQUFvQixPQUFPO1FBQ3ZCLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNDLElBQU0sR0FBRyxHQUFHLGVBQU0sQ0FBQyxNQUFNLEdBQUcsc0JBQXNCLEdBQUcsT0FBTyxDQUFDO1FBQzdELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFakIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBc0IsR0FBRyxFQUFFLEVBQUUsT0FBTyxTQUFBLEVBQUUsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRCxvREFBMEIsR0FBMUIsVUFBMkIsT0FBTztRQUM5QixJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMzQyxJQUFNLEdBQUcsR0FBRyxlQUFNLENBQUMsTUFBTSxHQUFHLDJCQUEyQixHQUFHLE9BQU8sQ0FBQztRQUNsRSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWpCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQXNCLEdBQUcsRUFBRSxFQUFFLE9BQU8sU0FBQSxFQUFFLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRUQsdURBQTZCLEdBQTdCLFVBQThCLE9BQU87UUFDakMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0MsSUFB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Z0I7UUFDdkMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0MsSUFBTSxHQUFHLEdBQUcsZUFBTSxDQUFDLE1BQU0sR0FBRyx5QkFBeUIsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQzNFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFakIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBTyxTQUFBLEVBQUUsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxnREFBc0IsR0FBdEIsVUFBdUIsYUFBNEI7UUFDL0MsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0MsSUFBTSxHQUFHLEdBQUcsZUFBTSxDQUFDLE1BQU0sR0FBRyxzQkFBc0IsR0FBRyxhQUFhLENBQUMsRUFBRSxDQUFDO1FBQ3RFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFakIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsYUFBYSxFQUFFLEVBQUUsT0FBTyxTQUFBLEVBQUUsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFuTlEsZUFBZTtRQUQzQixpQkFBVSxFQUFFO3lDQUVpQixpQkFBVTtPQUQzQixlQUFlLENBb04zQjtJQUFELHNCQUFDO0NBQUEsQUFwTkQsQ0FBcUMsaUJBQU8sR0FvTjNDO0FBcE5ZLDBDQUFlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gXCJAYW5ndWxhci9jb21tb24vaHR0cFwiO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcInJ4anNcIjtcblxuaW1wb3J0IHsgQmlsbEN1c3RvbWVyIH0gZnJvbSBcIn4vc2hhcmVkL21vZGVscy9iaWxsQ3VzdG9tZXIubW9kZWxcIjtcbmltcG9ydCB7IEJpbGxDdXN0b21lckRldGFpbCB9IGZyb20gXCJ+L3NoYXJlZC9tb2RlbHMvYmlsbEN1c3RvbWVyRGV0YWlsLm1vZGVsXCI7XG5pbXBvcnQgeyBCaWxsQ3VzdG9tZXJUb3RhbCB9IGZyb20gXCJ+L3NoYXJlZC9tb2RlbHMvYmlsbEN1c3RvbWVyVG90YWwubW9kZWxcIjtcbmltcG9ydCB7IEJ1c0N1c3RvbWVyIH0gZnJvbSBcIn4vc2hhcmVkL21vZGVscy9idXNDdXN0b21lci5tb2RlbFwiO1xuaW1wb3J0IHsgQ2FueW9uaW5nQ3VzdG9tZXIgfSBmcm9tIFwifi9zaGFyZWQvbW9kZWxzL2NhbnlvbmluZ0N1c3RvbWVyLm1vZGVsXCI7XG5pbXBvcnQgeyBDaGVja2luQnVzIH0gZnJvbSBcIn4vc2hhcmVkL21vZGVscy9jaGVja2luQnVzLm1vZGVsXCI7XG5pbXBvcnQgeyBQYXltZW50Q3VzdG9tZXIgfSBmcm9tIFwifi9zaGFyZWQvbW9kZWxzL3BheW1lbnRDdXN0b21lci5tb2RlbFwiO1xuaW1wb3J0IHsgTG9kZ2luZyB9IGZyb20gXCJ+L3NoYXJlZC9tb2RlbHMvbG9kZ2luZy5tb2RlbFwiO1xuaW1wb3J0IHsgTG9kZ2luZ0N1c3RvbWVyIH0gZnJvbSBcIn4vc2hhcmVkL21vZGVscy9sb2RnaW5nQ3VzdG9tZXIubW9kZWxcIjtcbmltcG9ydCB7IFBheW1lbnQgfSBmcm9tIFwifi9zaGFyZWQvbW9kZWxzL3BheW1lbnQubW9kZWxcIjtcbmltcG9ydCB7IFJhZnRpbmdDdXN0b21lciB9IGZyb20gXCJ+L3NoYXJlZC9tb2RlbHMvcmFmdGluZ0N1c3RvbWVyLm1vZGVsXCI7XG5pbXBvcnQgeyBTaXplQ3VzdG9tZXIgfSBmcm9tIFwifi9zaGFyZWQvbW9kZWxzL3NpemVDdXN0b21lci5tb2RlbFwiO1xuaW1wb3J0IHsgU3BlY2lhbEN1c3RvbWVyIH0gZnJvbSBcIn4vc2hhcmVkL21vZGVscy9zcGVjaWFsQ3VzdG9tZXIubW9kZWxcIjtcbmltcG9ydCB7IFZvbHBlbnNpb24gfSBmcm9tIFwifi9zaGFyZWQvbW9kZWxzL3ZvbHBlbnNpb24ubW9kZWxcIjtcbmltcG9ydCB7IFNlcnZpY2UgfSBmcm9tIFwifi9zaGFyZWQvc2VydmljZXMvc2VydmljZVwiO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZ1wiO1xuaW1wb3J0IHtDaGVja2luQ3VzdG9tZXJ9IGZyb20gXCJ+L3NoYXJlZC9tb2RlbHMvY2hlY2tpbkN1c3RvbWVyLm1vZGVsXCI7XG5pbXBvcnQge0NoZWNraW5DdXN0b21lckRldGFpbH0gZnJvbSBcIn4vc2hhcmVkL21vZGVscy9jaGVja2luQ3VzdG9tZXJEZXRhaWwubW9kZWxcIjtcbmltcG9ydCB7R3JvZXBDdXN0b21lcn0gZnJvbSBcIn4vc2hhcmVkL21vZGVscy9ncm9lcEN1c3RvbWVyLm1vZGVsXCI7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDdXN0b21lclNlcnZpY2UgZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGh0dHA6IEh0dHBDbGllbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBnZXRBbGxCeUdyb2VwQWN0aW9uKGdyb2VwSWQpOiBPYnNlcnZhYmxlPEFycmF5PFNpemVDdXN0b21lcj4+IHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlUmVxdWVzdEhlYWRlcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBDb25maWcuYXBpVXJsICsgXCJhcGkvY3VzdG9tZXJzL2dyb2VwL1wiICsgZ3JvZXBJZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldDxBcnJheTxTaXplQ3VzdG9tZXI+Pih1cmwsIHsgaGVhZGVycyB9KTtcbiAgICB9XG5cbiAgICBnZXRBbGxCeUdyb2VwRm9yQmlsbEFjdGlvbihncm9lcElkKTogT2JzZXJ2YWJsZTxBcnJheTxCaWxsQ3VzdG9tZXI+PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9ncm9lcC9iaWxsL1wiICsgZ3JvZXBJZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldDxBcnJheTxCaWxsQ3VzdG9tZXI+Pih1cmwsIHsgaGVhZGVycyB9KTtcbiAgICB9XG5cbiAgICBnZXRBbGxCeUdyb2VwRm9yQ2hlY2tpbkFjdGlvbihncm9lcElkKTogT2JzZXJ2YWJsZTxBcnJheTxDaGVja2luQ3VzdG9tZXI+PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9ncm9lcC9jaGVja2luL1wiICsgZ3JvZXBJZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldDxBcnJheTxDaGVja2luQ3VzdG9tZXI+Pih1cmwsIHsgaGVhZGVycyB9KTtcbiAgICB9XG5cbiAgICBnZXRBbGxCeVBlcmlvZElkQW5kTG9jYXRpb25JZEZvckdyb3VwTGF5b3V0QWN0aW9uKGRhdGUsIGxvY2F0aW9uSWQpOiBPYnNlcnZhYmxlPEFycmF5PEdyb2VwQ3VzdG9tZXI+PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9ncm9lcC9cIiArIGRhdGUgKyBcIi9cIiArIGxvY2F0aW9uSWQ7XG4gICAgICAgIGNvbnNvbGUuZGlyKHVybCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQ8QXJyYXk8R3JvZXBDdXN0b21lcj4+KHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIGdldEFsbEJ5R3JvZXBGb3JQYXltZW50c0FjdGlvbihncm9lcElkKTogT2JzZXJ2YWJsZTxBcnJheTxQYXltZW50Q3VzdG9tZXI+PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9ncm9lcC9wYXltZW50cy9cIiArIGdyb2VwSWQ7XG4gICAgICAgIGNvbnNvbGUuZGlyKHVybCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQ8QXJyYXk8UGF5bWVudEN1c3RvbWVyPj4odXJsLCB7IGhlYWRlcnMgfSk7XG4gICAgfVxuXG4gICAgZ2V0QmlsbEJ5Q3VzdG9tZXJJZChjdXN0b21lcklkKTogT2JzZXJ2YWJsZTxCaWxsQ3VzdG9tZXJEZXRhaWw+IHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlUmVxdWVzdEhlYWRlcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBDb25maWcuYXBpVXJsICsgXCJhcGkvY3VzdG9tZXJzL2JpbGwvXCIgKyBjdXN0b21lcklkO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0PEJpbGxDdXN0b21lckRldGFpbD4odXJsLCB7IGhlYWRlcnMgfSk7XG4gICAgfVxuXG4gICAgZ2V0Q2hlY2tpbkJ5Q3VzdG9tZXJJZChjdXN0b21lcklkKTogT2JzZXJ2YWJsZTxDaGVja2luQ3VzdG9tZXJEZXRhaWw+IHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlUmVxdWVzdEhlYWRlcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBDb25maWcuYXBpVXJsICsgXCJhcGkvY3VzdG9tZXJzL2NoZWNraW4vZGV0YWlsL1wiICsgY3VzdG9tZXJJZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldDxDaGVja2luQ3VzdG9tZXJEZXRhaWw+KHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIGdldEFsbEJ5QWdlbmN5Rm9yTG9kZ2luZ0FuZExvY2F0aW9uQW5kUGVyaW9kQWN0aW9uKGFnZW5jeUlkLCBsb2NhdGlvbklkLCBkYXRlKTogT2JzZXJ2YWJsZTxMb2RnaW5nPiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9sb2RnaW5nL1wiICsgYWdlbmN5SWQgKyBcIi9cIiArIGxvY2F0aW9uSWQgKyBcIi9cIiArIGRhdGU7XG4gICAgICAgIGNvbnNvbGUuZGlyKHVybCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQ8TG9kZ2luZz4odXJsLCB7IGhlYWRlcnMgfSk7XG4gICAgfVxuXG4gICAgZ2V0QWxsQnlHcm9lcFdpdGhSYWZ0aW5nT3B0aW9uQWN0aW9uKGdyb2VwSWQpOiBPYnNlcnZhYmxlPEFycmF5PFJhZnRpbmdDdXN0b21lcj4+IHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlUmVxdWVzdEhlYWRlcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBDb25maWcuYXBpVXJsICsgXCJhcGkvY3VzdG9tZXJzL2dyb2VwL3JhZnRpbmcvXCIgKyBncm9lcElkO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0PEFycmF5PFJhZnRpbmdDdXN0b21lcj4+KHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIGdldEFsbEJ5R3JvZXBXaXRoQ2FueW9uaW5nT3B0aW9uQWN0aW9uKGdyb2VwSWQpOiBPYnNlcnZhYmxlPEFycmF5PENhbnlvbmluZ0N1c3RvbWVyPj4ge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVSZXF1ZXN0SGVhZGVyKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IENvbmZpZy5hcGlVcmwgKyBcImFwaS9jdXN0b21lcnMvZ3JvZXAvY2FueW9uaW5nL1wiICsgZ3JvZXBJZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldDxBcnJheTxDYW55b25pbmdDdXN0b21lcj4+KHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIGdldEFsbEJ5R3JvZXBXaXRoU3BlY2lhbE9wdGlvbkFjdGlvbihncm9lcElkKTogT2JzZXJ2YWJsZTxBcnJheTxTcGVjaWFsQ3VzdG9tZXI+PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9ncm9lcC9zcGVjaWFsL1wiICsgZ3JvZXBJZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldDxBcnJheTxTcGVjaWFsQ3VzdG9tZXI+Pih1cmwsIHsgaGVhZGVycyB9KTtcbiAgICB9XG5cbiAgICBnZXRCdXNHb0N1c3RvbWVyc0J5V2VlayhkYXRlKTogT2JzZXJ2YWJsZTxDaGVja2luQnVzPiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9idXMvZ28vXCIgKyBkYXRlO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0PENoZWNraW5CdXM+KHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIGdldEJ1c0JhY2tDdXN0b21lcnNCeVdlZWsoZGF0ZSk6IE9ic2VydmFibGU8Q2hlY2tpbkJ1cz4ge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVSZXF1ZXN0SGVhZGVyKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IENvbmZpZy5hcGlVcmwgKyBcImFwaS9jdXN0b21lcnMvYnVzL2JhY2svXCIgKyBkYXRlO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0PENoZWNraW5CdXM+KHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIGdldEFsbEJ5QWxsSW5UeXBlRm9yTG9jYXRpb25BbmRQZXJpb2RBY3Rpb24obG9jYXRpb25JZCwgZGF0ZSk6IE9ic2VydmFibGU8Vm9scGVuc2lvbj4ge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVSZXF1ZXN0SGVhZGVyKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IENvbmZpZy5hcGlVcmwgKyBcImFwaS9jdXN0b21lcnMvYWxsLWluLXR5cGUvXCIgKyBsb2NhdGlvbklkICsgXCIvXCIgKyBkYXRlO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0PFZvbHBlbnNpb24+KHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIHB1dEN1c3RvbWVyU2l6ZUFjdGlvbihncm9lcEN1c3RvbWVyOiBTaXplQ3VzdG9tZXIpOiBPYnNlcnZhYmxlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVSZXF1ZXN0SGVhZGVyKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IENvbmZpZy5hcGlVcmwgKyBcImFwaS9jdXN0b21lcnMvc3VpdHNpemUvXCIgKyBncm9lcEN1c3RvbWVyLmlkO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KHVybCwgZ3JvZXBDdXN0b21lciwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIHB1dEN1c3RvbWVyUmFmdGluZ09wdGlvbkFjdGlvbihyYWZ0aW5nQ3VzdG9tZXI6IFJhZnRpbmdDdXN0b21lcik6IE9ic2VydmFibGU8b2JqZWN0PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9yYWZ0aW5nL1wiICsgcmFmdGluZ0N1c3RvbWVyLmlkO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KHVybCwgcmFmdGluZ0N1c3RvbWVyLCB7IGhlYWRlcnMgfSk7XG4gICAgfVxuXG4gICAgcHV0Q3VzdG9tZXJDYW55b25pbmdPcHRpb25BY3Rpb24oY2FueW9uaW5nQ3VzdG9tZXI6IENhbnlvbmluZ0N1c3RvbWVyKTogT2JzZXJ2YWJsZTxvYmplY3Q+IHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlUmVxdWVzdEhlYWRlcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBDb25maWcuYXBpVXJsICsgXCJhcGkvY3VzdG9tZXJzL2NhbnlvbmluZy9cIiArIGNhbnlvbmluZ0N1c3RvbWVyLmlkO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KHVybCwgY2FueW9uaW5nQ3VzdG9tZXIsIHsgaGVhZGVycyB9KTtcbiAgICB9XG5cbiAgICBwdXRDdXN0b21lclNwZWNpYWxPcHRpb25BY3Rpb24oc3BlY2lhbEN1c3RvbWVyOiBTcGVjaWFsQ3VzdG9tZXIpOiBPYnNlcnZhYmxlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVSZXF1ZXN0SGVhZGVyKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IENvbmZpZy5hcGlVcmwgKyBcImFwaS9jdXN0b21lcnMvc3BlY2lhbC9cIiArIHNwZWNpYWxDdXN0b21lci5pZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIHNwZWNpYWxDdXN0b21lciwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIHB1dEJ1c0dvQ3VzdG9tZXJBY3Rpb24oYnVzQ3VzdG9tZXI6IEJ1c0N1c3RvbWVyKTogT2JzZXJ2YWJsZTxvYmplY3Q+IHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlUmVxdWVzdEhlYWRlcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBDb25maWcuYXBpVXJsICsgXCJhcGkvY3VzdG9tZXJzL2J1cy9nby9cIiArIGJ1c0N1c3RvbWVyLmlkO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KHVybCwgYnVzQ3VzdG9tZXIsIHsgaGVhZGVycyB9KTtcbiAgICB9XG5cbiAgICBwdXRCdXNCYWNrQ3VzdG9tZXJBY3Rpb24oYnVzQ3VzdG9tZXI6IEJ1c0N1c3RvbWVyKTogT2JzZXJ2YWJsZTxvYmplY3Q+IHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlUmVxdWVzdEhlYWRlcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBDb25maWcuYXBpVXJsICsgXCJhcGkvY3VzdG9tZXJzL2J1cy9iYWNrL1wiICsgYnVzQ3VzdG9tZXIuaWQ7XG4gICAgICAgIGNvbnNvbGUuZGlyKHVybCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5wdXQodXJsLCBidXNDdXN0b21lciwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIHB1dExvZGdpbmdMYXlvdXRDdXN0b21lckFjdGlvbihsb2RnaW5nQ3VzdG9tZXI6IExvZGdpbmdDdXN0b21lcik6IE9ic2VydmFibGU8b2JqZWN0PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9sb2RnaW5nL2xheW91dC9cIiArIGxvZGdpbmdDdXN0b21lci5pZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIGxvZGdpbmdDdXN0b21lciwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIHB1dEJpbGxQYXllZEFjdGlvbihiaWxsQ3VzdG9tZXJUb3RhbDogQmlsbEN1c3RvbWVyVG90YWwpOiBPYnNlcnZhYmxlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVSZXF1ZXN0SGVhZGVyKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IENvbmZpZy5hcGlVcmwgKyBcImFwaS9jdXN0b21lcnMvYmlsbC9cIiArIGJpbGxDdXN0b21lclRvdGFsLmlkO1xuICAgICAgICBjb25zb2xlLmRpcih1cmwpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucHV0KHVybCwgYmlsbEN1c3RvbWVyVG90YWwsIHsgaGVhZGVycyB9KTtcbiAgICB9XG5cbiAgICBwdXRDaGVja2luQ3VzdG9tZXJBY3Rpb24oY2hlY2tpbkN1c3RvbWVyOiBDaGVja2luQ3VzdG9tZXIpOiBPYnNlcnZhYmxlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVSZXF1ZXN0SGVhZGVyKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IENvbmZpZy5hcGlVcmwgKyBcImFwaS9jdXN0b21lcnMvY2hlY2tpbi9cIiArIGNoZWNraW5DdXN0b21lci5pZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIGNoZWNraW5DdXN0b21lciwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIHB1dENoZWNraW5DdXN0b21lckRldGFpbEFjdGlvbihjaGVja2luQ3VzdG9tZXJEZXRhaWw6IENoZWNraW5DdXN0b21lckRldGFpbCk6IE9ic2VydmFibGU8b2JqZWN0PiB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVJlcXVlc3RIZWFkZXIoKTtcbiAgICAgICAgY29uc3QgdXJsID0gQ29uZmlnLmFwaVVybCArIFwiYXBpL2N1c3RvbWVycy9jaGVja2luL2RldGFpbC9cIiArIGNoZWNraW5DdXN0b21lckRldGFpbC5pZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIGNoZWNraW5DdXN0b21lckRldGFpbCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cblxuICAgIHB1dFBheW1lbnRUb0N1c3RvbWVyQWN0aW9uKHBheW1lbnQ6IFBheW1lbnQpOiBPYnNlcnZhYmxlPG9iamVjdD4ge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gdGhpcy5jcmVhdGVSZXF1ZXN0SGVhZGVyKCk7XG4gICAgICAgIGNvbnN0IHVybCA9IENvbmZpZy5hcGlVcmwgKyBcImFwaS9jdXN0b21lcnMvcGF5bWVudHMvXCIgKyBwYXltZW50LmN1c3RvbWVySWQ7XG4gICAgICAgIGNvbnNvbGUuZGlyKHVybCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5wdXQodXJsLCBwYXltZW50LCB7IGhlYWRlcnMgfSk7XG4gICAgfVxuXG4gICAgcHV0R3JvZXBDdXN0b21lckFjdGlvbihncm9lcEN1c3RvbWVyOiBHcm9lcEN1c3RvbWVyKTogT2JzZXJ2YWJsZTxvYmplY3Q+IHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlUmVxdWVzdEhlYWRlcigpO1xuICAgICAgICBjb25zdCB1cmwgPSBDb25maWcuYXBpVXJsICsgXCJhcGkvY3VzdG9tZXJzL2dyb2VwL1wiICsgZ3JvZXBDdXN0b21lci5pZDtcbiAgICAgICAgY29uc29sZS5kaXIodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnB1dCh1cmwsIGdyb2VwQ3VzdG9tZXIsIHsgaGVhZGVycyB9KTtcbiAgICB9XG59XG4iXX0=